{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\emili\\\\Documents\\\\castorycasesjs\\\\src\\\\Components\\\\SearchResults.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport './styles/SearchBar.css';\nconst API = \"https://us-central1-castory-cases.cloudfunctions.net\";\nconst PATH = '/search';\n\nclass SearchResults extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.buscar = () => {\n      if (this.state.loading && this.state.busqueda === this.props.busqueda && this.state.busqueda.length > 4) {\n        fetch(API + PATH + `/${this.props.busqueda}`).then(response => response.json()).then(data => this.setState({\n          busqueda: this.props.busqueda,\n          productos: data,\n          loading: false\n        }));\n      } else {\n        if (this.productos.busqueda.length > 4) {\n          this.setState({\n            busqueda: this.props.busqueda,\n            loading: false\n          });\n        }\n      }\n    };\n\n    this.state = {\n      busqueda: \"\",\n      productos: [],\n      count: 0,\n      loading: true\n    };\n  }\n\n  componentDidUpdate() {\n    this.buscar();\n  }\n\n  render() {\n    // console.log(this.props.busqueda)\n    const removeAccents = str => str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n\n    const {\n      productos\n    } = this.state;\n    const {\n      busqueda\n    } = this.props;\n    const lowerCasedFilter = removeAccents(busqueda.toLowerCase());\n    const DatosFiltrados = productos.filter(producto => removeAccents(producto.productName.toLowerCase()).includes(lowerCasedFilter));\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: this.props.busqueda ? \"SearchComponent__results-container show\" : \"SearchComponent__results-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"results\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, \"Resultados\"), DatosFiltrados.length && this.props.busqueda !== \" \" ? DatosFiltrados.map(producto => /*#__PURE__*/React.createElement(\"li\", {\n      key: producto.id,\n      className: \"item_result\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      onClick: this.props.reset,\n      className: \"linkProduct\",\n      to: `/cases/id?=${producto.id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"itemImage\",\n      src: producto.productImages,\n      alt: \"CasePhoto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"item_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }, producto.productName), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"item_price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, \"$\", producto.productPrice, \" MXN\")))) : this.state.loading ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"NoResult\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 50\n      }\n    }, \"Cargando...\") : /*#__PURE__*/React.createElement(\"p\", {\n      className: \"NoResult\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 27\n      }\n    }, \"No se ha encontrado resultados resultados para tu busqueda \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 110\n      }\n    }, \"(\", this.state.busqueda, \")\")));\n  }\n\n}\n\nexport default SearchResults;","map":{"version":3,"sources":["C:/Users/emili/Documents/castorycasesjs/src/Components/SearchResults.js"],"names":["React","Link","API","PATH","SearchResults","Component","constructor","props","buscar","state","loading","busqueda","length","fetch","then","response","json","data","setState","productos","count","componentDidUpdate","render","removeAccents","str","normalize","replace","lowerCasedFilter","toLowerCase","DatosFiltrados","filter","producto","productName","includes","map","id","reset","productImages","productPrice"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport './styles/SearchBar.css'\r\nconst API = \"https://us-central1-castory-cases.cloudfunctions.net\"\r\nconst PATH = '/search'\r\n\r\n\r\nclass SearchResults extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            busqueda: \"\",\r\n            productos: [],\r\n            count: 0,\r\n            loading: true\r\n        }\r\n    }\r\n\r\n    buscar = () => {\r\n        \r\n        if(this.state.loading && this.state.busqueda === this.props.busqueda && this.state.busqueda.length > 4) {\r\n            fetch(API + PATH + `/${this.props.busqueda}`)\r\n                .then(response => response.json())\r\n                .then(data => this.setState({busqueda: this.props.busqueda ,productos: data, loading: false}));\r\n        } else {\r\n            if(this.productos.busqueda.length > 4) {\r\n                this.setState({busqueda: this.props.busqueda, loading: false})\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.buscar()\r\n        \r\n    }\r\n\r\n    render() {\r\n        // console.log(this.props.busqueda)\r\n        const removeAccents = str => str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\r\n        const {productos} = this.state\r\n        const {busqueda} = this.props\r\n        const lowerCasedFilter = removeAccents(busqueda.toLowerCase());\r\n        const DatosFiltrados = productos.filter(producto => removeAccents(producto.productName.toLowerCase()).includes(lowerCasedFilter))\r\n        return(\r\n            <ul className={this.props.busqueda ? \"SearchComponent__results-container show\": \"SearchComponent__results-container\"}>\r\n                <h3 className=\"results\">Resultados</h3>\r\n                {DatosFiltrados.length && this.props.busqueda !== \" \" ? DatosFiltrados.map((producto)=>(\r\n                <li key={producto.id} className=\"item_result\">\r\n                    <Link onClick={this.props.reset} className=\"linkProduct\" to={`/cases/id?=${producto.id}`}>\r\n                        <img className=\"itemImage\" src={producto.productImages} alt=\"CasePhoto\"/>\r\n                        <p className=\"item_title\">{producto.productName}</p>\r\n                        <p className=\"item_price\">${producto.productPrice} MXN</p>\r\n                        </Link>\r\n                        </li>\r\n                        )): this.state.loading ? <p className=\"NoResult\">Cargando...</p>\r\n                        : <p className=\"NoResult\">No se ha encontrado resultados resultados para tu busqueda <b>({this.state.busqueda})</b></p>}\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SearchResults"]},"metadata":{},"sourceType":"module"}